(this["webpackJsonpcircle-of-suck"]=this["webpackJsonpcircle-of-suck"]||[]).push([[0],{125:function(e,n,t){e.exports=t(286)},286:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(120),c=t.n(o),i=t(9),l=t(1),s=t.n(l),u=t(121),f=t.n(u),h=t(59),d=t.n(h),m=t(12),p=t.n(m),g=t(60),b=p.a.create({baseURL:"https://api.collegefootballdata.com/"});Object(g.a)({axios:b});var v=function(e,n){var t=Object(g.b)({url:e,params:n});return Object(i.a)(t,1)[0].data},w=t(123),E=t(124),y=function(){function e(n){Object(w.a)(this,e),this.size=void 0,this.adjMatrix=void 0,this.size=n,this.adjMatrix=s.a.map(Array(n),(function(){return s.a.fill(Array(n),null)}))}return Object(E.a)(e,[{key:"addEdge",value:function(e,n,t){if(e>=this.size||n>=this.size)throw new Error("Vertex does not exist");this.adjMatrix[e][n]=t}},{key:"allFrom",value:function(e){if(e>=this.size)throw new Error("Vertex does not exist");return s.a.compact(this.adjMatrix[e].map((function(e,n){return null===e?null:{weight:e,neighbor:n}})))}}]),e}(),j=function(e){var n=function n(t,a){return s.a.flatMap(e.allFrom(t),(function(t){var r=t.neighbor,o=t.weight;return 0===r&&a.nodes.length===e.size?[a]:s.a.includes(a.nodes,r)?[]:n(r,{nodes:s.a.concat(a.nodes,r),weight:a.weight+o})}))}(0,{nodes:[0],weight:0}),t=s.a.minBy(n,"weight");return t?t.nodes:null},k=function(e,n){var t=function(e,n){return v("/games",{year:e,conference:n})}(e,n),r=function(e){return v("/teams",{conference:e})}(n),o=Object(a.useState)({loading:!0,circleOfSuck:null,teams:null}),c=Object(i.a)(o,2),l=c[0],s=c[1];return Object(a.useEffect)((function(){t&&r&&O(r,t).then((function(e){s({loading:!1,circleOfSuck:e,teams:r})}))}),[t,r]),l},O=function(e,n){var t,a,r,o,c;return d.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=s.a.fromPairs(s.a.map(e,(function(e){return[e.school,[]]}))),a=[],s.a.each(n,(function(e){var n=e.conference_game,r=e.away_team,o=e.home_team,c=e.away_points,i=e.home_points;n&&(null===c||null===i?a.push([o,r]):c>i?t[r].push(o):t[o].push(r))})),r=s.a.fromPairs(s.a.map(e,(function(e,n){return[e.school,n]}))),o=new y(e.length),s.a.each(t,(function(e,n){s.a.each(e,(function(e){o.addEdge(r[n],r[e],0)}))})),s.a.each(a,(function(e){var n=Object(i.a)(e,2),t=n[0],a=n[1];o.addEdge(r[t],r[a],1),o.addEdge(r[a],r[t],1)})),c=j(o)){l.next=10;break}return l.abrupt("return",null);case 10:return l.abrupt("return",s.a.map(c.map((function(n){return e[n]})),(function(e,n,a){var r=a[n===a.length-1?0:n+1];return{from:e,to:r,isPlayed:s.a.includes(t[e.school],r.school)}})));case 11:case"end":return l.stop()}}))},x=new Date,A=x.getFullYear()+(x.getMonth()<6?-1:0),P=function(e){var n=e.year,t=e.conference,a=k(n,t),o=a.loading,c=a.circleOfSuck,i=a.teams;if(o)return r.a.createElement("p",null,"Loading...");if(null===c)return r.a.createElement("p",null,"No possible circle of suck for this season.");var l=s.a.every(c,"isPlayed");return r.a.createElement(r.a.Fragment,null,!l&&r.a.createElement("p",null,"No complete circle of suck was found. Displaying a possible circle of suck."),r.a.createElement("p",null,"An arrow from school A to school B represents a game where school A beats school B."),!l&&r.a.createElement("p",null,"A dashed arrow from school A to school B represent a future game that could complete the circle of suck, if school A beats school B."),r.a.createElement(f.a,{graph:{nodes:i.map((function(e){var n=e.school,t=e.abbreviation;return{id:n,label:"".concat(n," (").concat(t,")")}})),edges:c.map((function(e){var n=e.from,t=e.to,a=e.isPlayed;return{from:n.school,to:t.school,width:a?2:1,dashes:!a}}))},options:{height:"500px",physics:{enabled:!1}}}))};c.a.render(r.a.createElement((function(){var e=Object(a.useState)(A),n=Object(i.a)(e,1)[0];return r.a.createElement("main",null,r.a.createElement("h1",null,"PAC-12 Circle of Suck (",n,")"),r.a.createElement(P,{year:n,conference:"PAC"}))}),null),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.b4b6e397.chunk.js.map